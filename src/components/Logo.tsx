import React, { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { useCursor } from '../context/CursorContext';

const Logo: React.FC = () => {
  const { setHovered, isMobile } = useCursor();
  const [showText, setShowText] = useState(false);
  
  const toggleDisplay = (e: React.MouseEvent | React.TouchEvent) => {
    e.preventDefault();
    e.stopPropagation();
    setShowText(!showText);
    
    if (isMobile) {
      setHovered(true);
      setTimeout(() => setHovered(false), 300);
    }
  };

  const handleMouseEnter = () => !isMobile && setHovered(true);
  const handleMouseLeave = () => !isMobile && setHovered(false);
  
  return (
    <motion.div
      initial={{ opacity: 0, scale: 0.9 }}
      animate={{ opacity: 1, scale: 1 }}
      transition={{ duration: 1.5, delay: 0.3 }}
      className="logo-container flex flex-col items-center cursor-pointer select-none z-50 relative"
      onMouseEnter={handleMouseEnter}
      onMouseLeave={handleMouseLeave}
      onClick={toggleDisplay}
      onTouchEnd={toggleDisplay}
      style={{ 
        WebkitTouchCallout: 'none',
        WebkitUserSelect: 'none',
        userSelect: 'none'
      }}
    >
      <AnimatePresence mode="wait">
        {showText ? (
          <motion.h1 
            key="text"
            // UPDATED FONT STYLES HERE:
            className={`${isMobile ? 'text-4xl sm:text-6xl' : 'text-5xl md:text-7xl lg:text-8xl'} font-bold tracking-[0.25em] uppercase text-white pointer-events-auto text-center`}
            initial={{ opacity: 0, scale: 0.8, filter: "blur(10px)" }}
            animate={{ opacity: 1, scale: 1, filter: "blur(0px)" }}
            exit={{ opacity: 0, scale: 0.8, filter: "blur(10px)" }}
            whileHover={{ scale: isMobile ? 1 : 1.05 }}
            whileTap={{ scale: 0.95 }}
            transition={{ duration: 0.4 }}
          >
            HORUS
          </motion.h1>
        ) : (
          <motion.div
            key="svg"
            className={`${isMobile ? 'w-80 h-80 sm:w-[28rem] sm:h-[28rem]' : 'w-96 h-96 md:w-[30rem] md:h-[30rem] lg:w-[40rem] lg:h-[40rem]'} pointer-events-auto flex items-center justify-center`}
            initial={{ opacity: 0, scale: 0.8, filter: "blur(10px)" }}
            animate={{ opacity: 1, scale: 1, filter: "blur(0px)" }}
            exit={{ opacity: 0, scale: 0.8, filter: "blur(10px)" }}
            whileHover={{ scale: isMobile ? 1 : 1.05 }}
            whileTap={{ scale: 0.95 }}
            transition={{ duration: 0.4 }}
          >
            <svg 
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 8000 8000"
              className="w-full h-full pointer-events-none"
            >
              {/* UPDATED DRAWING STYLE:
                 Using 'stroke' instead of 'fill' creates an elegant outline 
                 which makes the logo appear less thick/heavy.
              */}
              <g 
                transform="translate(0,8000) scale(0.1,-0.1)" 
                fill="none" 
                stroke="#ffffff" 
                strokeWidth="250" 
              >
                <path d="M43237 60830 c-469 -35 -918 -245 -1243 -582 -279 -289 -446 -633
                -518 -1069 -63 -381 -81 -711 -80 -1474 0 -703 18 -1211 70 -2023 8 -134 13
                -246 11 -248 -3 -3 -121 -51 -263 -108 -202 -81 -260 -108 -262 -123 -2 -14
                523 -4709 551 -4925 3 -25 -11 -39 -162 -151 -777 -582 -1296 -1230 -1676
                -2092 -32 -71 -122 -294 -202 -495 -164 -415 -286 -671 -401 -845 -45 -66
                -154 -215 -244 -332 -90 -116 -248 -321 -351 -456 -591 -766 -930 -1293 -1271
                -1974 -227 -455 -374 -804 -642 -1523 -1360 -3647 -1863 -4820 -2312 -5400
                -83 -107 -240 -269 -357 -370 -404 -346 -1509 -1094 -2810 -1900 -390 -241
                -426 -266 -530 -357 -259 -226 -436 -531 -518 -890 -19 -87 -22 -125 -21 -348
                0 -268 7 -327 68 -537 162 -556 613 -1021 1172 -1207 266 -89 422 -105 900
                -91 844 24 1514 109 2284 290 674 158 1446 422 1803 616 270 147 687 457 1546
                1148 205 166 437 350 515 410 l141 108 12 -88 c56 -422 256 -801 566 -1071 68
                -59 87 -82 87 -102 l0 -26 -203 -1 c-168 0 -219 -4 -304 -22 -511 -110 -909
                -457 -1076 -938 -191 -549 -77 -1129 300 -1525 145 -151 288 -247 514 -345 61
                -26 123 -42 229 -60 308 -51 707 -168 915 -268 80 -38 149 -83 250 -161 1419
                -1099 2559 -1769 3200 -1880 105 -18 332 -21 431 -5 280 45 539 168 741 353
                l42 38 113 -40 c205 -73 478 -154 593 -176 168 -32 372 -28 541 11 363 83 696
                329 870 641 27 47 43 65 62 69 202 46 365 111 491 196 80 55 199 157 248 215
                26 30 80 80 121 111 l74 56 107 -23 c537 -114 1000 -166 1255 -142 409 39 752
                242 973 578 87 133 144 272 182 445 10 48 28 99 39 115 60 86 136 277 168 423
                26 118 26 371 1 490 -144 672 -640 1220 -1302 1439 -349 115 -883 192 -1795
                256 -752 53 -989 89 -1225 182 -148 58 -323 171 -414 266 l-33 35 16 149 c33
                297 114 768 207 1203 99 463 158 758 193 970 129 775 179 1477 157 2213 -6
                199 -11 613 -11 918 l0 556 41 64 c80 123 135 186 414 469 1045 1062 1392
                1589 1735 2631 236 714 328 1554 244 2219 -25 201 -107 624 -135 697 -7 19 1
                28 72 78 275 193 463 483 524 808 45 241 58 653 30 920 -53 502 -215 934 -484
                1290 l-74 99 -2 172 c-3 181 -16 274 -60 428 -30 104 -88 240 -139 327 l-36
                63 11 156 c6 87 8 185 4 220 l-7 63 122 220 c138 248 206 401 256 572 91 317
                82 648 -27 963 -22 64 -53 143 -69 175 -17 32 -30 63 -30 68 0 6 248 609 551
                1342 303 732 547 1335 542 1339 -4 4 -316 39 -693 79 -377 40 -706 75 -732 78
                l-46 6 -7 56 c-43 375 -172 1058 -251 1330 -164 567 -461 1081 -958 1661
                l-134 157 19 111 c89 523 -8 1118 -263 1614 -210 409 -552 754 -938 948 -253
                127 -621 220 -870 220 -64 0 -76 4 -172 54 -292 153 -629 221 -971 196z m276
                -1265 c140 -36 245 -124 314 -261 22 -45 42 -87 45 -94 3 -9 17 -6 53 13 77
                38 212 83 294 97 161 27 381 -22 533 -119 73 -47 186 -156 244 -238 129 -180
                218 -451 231 -703 7 -153 -5 -249 -57 -456 -50 -196 -64 -305 -51 -402 17
                -130 55 -186 377 -552 284 -323 414 -493 553 -725 122 -201 202 -379 265 -589
                75 -247 199 -941 225 -1261 26 -305 50 -427 109 -539 42 -80 148 -193 237
                -253 128 -86 323 -168 498 -209 42 -9 77 -22 77 -27 0 -5 -192 -473 -426
                -1039 -234 -567 -428 -1037 -431 -1044 -4 -10 3 -11 34 -2 21 7 85 12 143 12
                86 1 113 -3 150 -20 56 -26 95 -65 129 -129 23 -45 26 -61 26 -155 l0 -105
                -52 -109 c-60 -123 -45 -117 -173 -70 -48 17 -103 29 -152 32 -75 4 -78 4
                -106 -25 -24 -23 -32 -44 -42 -103 -16 -95 -8 -269 19 -410 10 -58 31 -168 46
                -245 32 -172 43 -368 26 -485 -7 -47 -30 -140 -52 -208 -44 -140 -47 -174 -19
                -263 27 -87 61 -139 164 -243 107 -108 136 -162 136 -256 0 -73 -19 -122 -89
                -229 -91 -142 -93 -262 -4 -383 19 -26 87 -91 151 -145 160 -133 243 -219 307
                -317 162 -249 236 -598 207 -986 -12 -157 -17 -190 -31 -190 -4 0 -24 22 -44
                49 -21 27 -70 80 -109 116 -224 212 -431 249 -638 113 -87 -57 -267 -233 -347
                -338 -37 -49 -95 -148 -138 -235 -98 -197 -152 -357 -210 -621 -4 -20 3 -18
                72 22 149 85 311 121 422 94 205 -49 363 -318 465 -791 69 -322 80 -422 80
                -744 1 -349 -22 -570 -90 -885 -78 -355 -242 -822 -397 -1124 -206 -402 -513
                -782 -1193 -1476 -159 -162 -320 -333 -357 -380 -161 -200 -321 -473 -393
                -670 l-27 -75 -1 -595 c-1 -327 1 -899 4 -1270 4 -502 2 -715 -8 -830 -53
                -634 -117 -1061 -266 -1756 -208 -971 -310 -1655 -293 -1964 9 -155 74 -328
                191 -510 201 -310 620 -632 1036 -794 395 -154 724 -210 1595 -271 675 -48
                1048 -91 1374 -160 196 -41 360 -133 463 -260 59 -72 117 -186 125 -244 l6
                -42 -199 6 c-109 3 -217 8 -239 10 l-40 5 25 -18 c110 -77 167 -142 200 -229
                21 -57 55 -276 45 -300 -5 -14 -25 -15 -148 -10 -244 11 -582 69 -1037 177
                -233 56 -387 82 -610 104 -241 24 -670 47 -670 36 0 -3 57 -48 126 -100 136
                -103 195 -175 231 -278 21 -60 12 -85 -30 -90 -23 -3 -265 28 -352 44 l-30 6
                37 -38 c56 -59 78 -115 78 -205 0 -58 -4 -78 -15 -82 -8 -4 -214 34 -457 82
                -585 117 -695 132 -1067 145 -111 4 -132 2 -120 -8 8 -8 120 -80 249 -162 129
                -82 255 -166 279 -189 129 -118 202 -307 185 -478 -8 -85 -34 -117 -94 -117
                -85 0 -536 156 -783 272 -266 124 -469 196 -675 240 -87 19 -138 23 -272 23
                -91 0 -173 -3 -183 -8 -17 -6 -16 -10 11 -45 43 -55 90 -153 107 -224 26 -111
                14 -299 -23 -362 -21 -35 -76 -66 -118 -66 -77 0 -385 129 -647 271 -540 292
                -1183 729 -2084 1417 -154 118 -280 194 -441 267 -294 133 -639 239 -1052 325
                -161 34 -188 42 -207 64 -62 72 -55 231 13 306 60 67 39 65 618 51 379 -9 534
                -10 568 -2 200 46 342 186 419 416 24 69 24 73 21 445 -2 206 -6 537 -11 735
                -7 335 -9 363 -28 407 -28 61 -94 132 -146 157 -23 11 -99 46 -169 79 -185 87
                -261 167 -301 312 -9 31 -58 516 -113 1110 -54 580 -99 1057 -100 1059 -2 2
                -130 -79 -285 -179 -409 -265 -612 -394 -894 -568 -486 -300 -617 -395 -1280
                -927 -668 -537 -1072 -847 -1270 -978 -127 -84 -297 -163 -535 -250 -678 -249
                -1387 -420 -2120 -511 -521 -65 -1265 -97 -1419 -61 -269 64 -454 319 -438
                607 5 101 35 174 96 237 20 20 216 149 436 286 1352 841 2410 1559 2890 1961
                281 236 537 519 730 809 467 702 1027 2018 2212 5200 263 706 364 965 486
                1241 237 533 487 991 792 1449 173 259 334 478 712 968 354 458 463 606 550
                746 163 261 255 455 460 970 224 565 308 744 474 1012 242 391 583 752 1004
                1064 205 153 475 320 665 411 65 32 79 43 80 62 0 13 -121 1099 -270 2413
                -148 1315 -270 2392 -270 2393 0 2 109 48 243 101 133 53 246 101 251 105 6 6
                5 64 -2 147 -177 2111 -193 3962 -38 4387 79 219 253 371 481 421 82 18 209
                18 278 0z"/>
              </g>
            </svg>
          </motion.div>
        )}
      </AnimatePresence>
    </motion.div>
  );
};

export default Logo;
